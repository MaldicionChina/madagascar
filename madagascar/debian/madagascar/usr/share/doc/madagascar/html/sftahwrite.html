
    <!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
    <html><head><title>RSF: sftahwrite</title>
    <style type="text/css"><!--
    TT { font-family: lucidatypewriter, lucida console, courier }
    --></style></head><body bgcolor="#f0f0f8">
    
    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#7799ee">
    <td valign=bottom>&nbsp;<br>
    <font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>sftahwrite</strong></big></big> (1.7)</font></td
    ><td align=right valign=bottom
    ><font color="#ffffff" face="helvetica, arial"><a href="./index.html">index</a><br><a href="http://sourceforge.net/p/rsf/code/HEAD/tree/branches/madagascar-1.7/user/karl/Mtahwrite.c">user/karl/Mtahwrite.c</a></font></td></tr></table>
    Read Trace And Header (tah) from standard input, write to separate files
    <p>
    <table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
    <tr bgcolor="#aa55cc">
    <td colspan=3 valign=bottom>&nbsp;<br>
    <font color="#fffff" face="helvetica, arial"><big><strong>Synopsis</strong></big></font></td></tr>
    
        <tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">sftahwrite < in.rsf > out.rsf verbose=1 label#=(2,...) n#=(2,...) o#=(2,...) d#=(2,...) output= outheaders=</td></tr></table><br>
tah is the abbreviation of Trace And Header.  Madagascar programs <br>
that begin with sftah are a designed to:<br>
1- read trace and headers from separate rsf files and write them to <br>
   standard output (ie sftahread)<br>
2- filter programs that read and write standard input/output and <br>
   process the tah data (eg sftahnmo, sftahstack)<br>
3- read tah data from standard input and write separate rsf files for <br>
   the trace and headers data (ie sftahwrite)<br>
<br>
These programs allow Seismic Unix (su) like processing in Madagascar.  <br>
Some programs have su like names.<br>
<br>
Some programs in this suite are sftahread, sftahgethw, ftahhdrmath, <br>
and sftahwrite.<br>
<br>
The sftahwrite program reads the trace and header data (tah) from <br>
standard input (usually a pipe), separates the trace data from the<br>
header data.  The trace data is written to output and the header is<br>
written to outheaders.  The trace headers are used to select the <br>
location in the file to write the data.  The iline and xline headers <br>
are used in the following example to put stacked data in <br>
(time, xline, iline) order so it can be viewed using sfgrey.<br>
<br>
EXAMPLE:<br>
<br>
sftahread \<br>
   verbose=1 \<br>
   input=npr3_gathers.rsf \<br>
| sftahnmo \<br>
   verbose=1  \<br>
   tnmo=0,.373,.619,.826,.909,1.017,1.132,1.222,1.716,3.010 \<br>
   vnmo=9086,10244,11085,10803,10969,11578,12252,12669,14590,17116 \<br>
| sftahstack key=iline,xline verbose=1 \<br>
| sftahwrite \<br>
   verbose=1                           \<br>
   label2="xline" o2=1 n2=188 d2=1   \<br>
   label3="iline" o3=1 n3=345 d3=1   \<br>
   output=mappedstack.rsf \<br>
>/dev/null<br>
<br>
sfgrey <mappedstack.rsf | sfpen<br>
<br>
In this example the cmp sorted prestack data, npr3_gathers.rsf,  are <br>
read by sftahread.  The headers are in the file npr3_gathers_hdr.rsf, <br>
the headers parameter default.  The headers are merged with the trace <br>
amplitudes and the tah data sent down the pipe for nmo and stack.  The <br>
sftahwrite writes the trace data to mappedstack.rsf and the headers <br>
are written to the file mappedstack_hdr.rsf.  The order of the data in<br>
the output file is defined by the iline and xline trace headers, so the <br>
data order is (time,xline,iline).  Finally, the output volume is<br>
displayed using sfgrey.<br>

    <p>
    <table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
    <tr bgcolor="#ee77aa">
    <td colspan=3 valign=bottom>&nbsp;<br>
    <font color="#ffffff" face="helvetica, arial"><big><strong>Parameters</strong></big></font></td></tr>
    
        <tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">
    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#ffc8d8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>float   <strong>d#=(2,...)</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	delta in the #-th dimension <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#f0f0f8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>string  <strong>label#=(2,...)</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	name of each of the axes. <br>
	   label1 is not changed from input. Each label must be a <br>
	   header key like cdp, cdpt, or ep.  The trace header <br>
	   values are used to define the output trace location in<br>
	   the output file. <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#ffc8d8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>largeint <strong>n#=(2,...)</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	number of locations in the #-th dimension <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#f0f0f8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>float   <strong>o#=(2,...)</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	origin of the #-th dimension <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#ffc8d8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>string  <strong>outheaders=</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	<br>
<br>
     Output trace header file name.  Default is the input data<br>
     file name, with the final .rsf changed to _hdr.rsf. <br>
  <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#f0f0f8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>string  <strong>output=</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	<br>
<br>
     output trace filename. Required parameter with no default.<br>
  <br>
</font></td></tr></table>
    

    <table width="100%" cellspacing=0 cellpadding=2 border=0
    summary="heading">
    <tr bgcolor="#ffc8d8">
    <td valign=bottom>
    <font color="#000000" face="helvetica, arial">&nbsp;<br>int     <strong>verbose=1</strong> </font></td
    ><td align=right valign=bottom
    ><font color="#000000" face="helvetica, arial">	<br>
<br>
     flag to control amount of print<br>
     0 terse, 1 informative, 2 chatty, 3 debug<br>
  <br>
</font></td></tr></table>
    
</td></tr></table>
    </body></html>